# üîí PROJECT ISOLATION - READ-ONLY CROSS-PROJECT ACCESS

**‚õî READ THIS BEFORE ANY OPERATION ‚õî**

---

## üéØ YOU ARE WORKING ON: **elarmario**

**Project Root:** `/root/websites/elarmario`
**Git Repo:** `TBD`
**Port:** `3012`
**Database:** `elarmario` on port `DB_3012`
**Primary Mode:** Write access to elarmario ONLY

---

## ‚úÖ ALLOWED OPERATIONS

### READ Operations (Any Project):
1. ‚úÖ **Read files from ANY project** in `/root/websites/` for reference
2. ‚úÖ **Study code patterns** from other projects
3. ‚úÖ **Copy/adapt code** from other projects into elarmario
4. ‚úÖ **Compare implementations** across projects
5. ‚úÖ **Reference documentation** from other projects

**Examples:**
- ‚úÖ "Show me how gangrunprinting implements Square payments"
- ‚úÖ "Compare the auth setup in agistaffers vs taxgeniuspro"
- ‚úÖ "Copy the pricing engine from gangrunprinting and adapt it for elarmario"

### WRITE Operations (elarmario Only):
1. ‚úÖ **Create/edit/delete files** ONLY in `/root/websites/elarmario`
2. ‚úÖ **Git operations** ONLY for elarmario repository
3. ‚úÖ **Database access** ONLY to elarmario
4. ‚úÖ **Start/stop processes** ONLY for elarmario

---

## ‚ùå PROHIBITED OPERATIONS

### Cross-Project Writes:
1. ‚ùå **NEVER modify files** in other projects
2. ‚ùå **NEVER commit** to other projects' git repos
3. ‚ùå **NEVER access databases** of other projects
4. ‚ùå **NEVER run processes** for other projects
5. ‚ùå **NEVER create files** outside elarmario

**If asked to modify another project:**
```
‚ùå I cannot modify [OTHER_PROJECT] in this session.

I CAN read its code for reference, but all modifications
must happen in elarmario.

To modify [OTHER_PROJECT], please:
1. Exit this session
2. cd ~/websites/[OTHER_PROJECT]
3. Run: claude-safe
```

---

## üîç SAFE CROSS-PROJECT WORKFLOW

### Example: Copying a feature from gangrunprinting

```typescript
// STEP 1: Read from gangrunprinting (ALLOWED)
Read(/root/websites/gangrunprinting/src/lib/payments/square.ts)

// STEP 2: Adapt for current project (ALLOWED)
// Copy relevant code, update imports, adjust to local structure

// STEP 3: Write to elarmario (ALLOWED)
Write(/root/websites/elarmario/src/lib/payments/square.ts)

// STEP 4: Commit to elarmario (ALLOWED)
git add src/lib/payments/square.ts
git commit -m "Add Square payment integration (adapted from gangrunprinting)"
```

---

## üéì VALIDATION BEFORE OPERATIONS

### Before ANY WRITE operation:
```typescript
function validateWritePath(path: string): boolean {
  const PROJECT_ROOT = "/root/websites/elarmario";

  if (!path.startsWith(PROJECT_ROOT)) {
    throw new Error(`
      ‚ùå WRITE BLOCKED: Path outside project boundary
      Attempted: ${path}
      Allowed: ${PROJECT_ROOT}

      You can READ from other projects, but WRITE only to elarmario.
    `);
  }

  return true;
}
```

### Before ANY READ operation:
```typescript
function validateReadPath(path: string): boolean {
  const WEBSITES_ROOT = "/root/websites/";

  // Allow reading from any project
  if (path.startsWith(WEBSITES_ROOT)) {
    return true;
  }

  // Warn about reading outside websites directory
  console.warn(`Reading outside /root/websites/: ${path}`);
  return true;
}
```

---

## üìä OPERATION MATRIX

| Operation | Current Project | Other Projects | Allowed? |
|-----------|----------------|----------------|----------|
| Read file | ‚úÖ | ‚úÖ | YES |
| Write file | ‚úÖ | ‚ùå | ONLY current |
| Delete file | ‚úÖ | ‚ùå | ONLY current |
| Git commit | ‚úÖ | ‚ùå | ONLY current |
| DB query | ‚úÖ | ‚ùå | ONLY current |
| Run process | ‚úÖ | ‚ùå | ONLY current |
| Copy code | ‚úÖ | ‚úÖ ‚Üí ‚úÖ | Copy FROM others TO current |

---

## üîç SERENA MCP PROJECT ACTIVATION

```
‚úÖ CORRECT: Serena, activate project: /root/websites/elarmario
‚ùå WRONG: Activating any other project
```

---

## ‚úÖ SELF-CHECK QUESTIONS

Before ANY WRITE operation:
- ‚úÖ Am I writing to /root/websites/elarmario?
- ‚úÖ Am I using the elarmario database?
- ‚úÖ Am I committing to the elarmario repo?

Before ANY READ operation:
- ‚úÖ Am I reading for reference/learning purposes?
- ‚úÖ Will I adapt copied code to elarmario?

If ANY write operation fails these checks ‚Üí STOP and REFUSE.

---

## üí° REMEMBER

**READ from ANYWHERE, WRITE to CURRENT PROJECT ONLY**

To modify another project:
1. Exit current session
2. cd to target project
3. Run `claude-safe`

---

## ‚úÖ PROJECT ISOLATION ACTIVATED

By reading this file, you acknowledge:
- ‚úì I MAY read from ANY project for reference
- ‚úì I MUST ONLY write to elarmario
- ‚úì I will validate ALL write operations
- ‚úì I will REFUSE cross-project modifications

**Cross-project read-only access is now ACTIVE.**
